
<h1 class="mt-5">Selectores anidados</h1>
<br>

<form [formGroup]="miFormulario" (ngSubmit)="guardar()">

  <!--region-->
  <div class="row mb-3">
    <div class="col">
      <label class="form-label"> Continente: </label>
      <select 
        formControlName="region"
        class="form-control">
        <option value=""> -- Seleccione Región --</option>
        <option *ngFor="let region of regiones; let i=index"
        [value]="region |lowercase"> {{region}} </option>
      </select>
    </div>
  </div>

  <!--paises-->
  <div class="row mb-3" *ngIf="paises.length !=0">
    <div class="col">
      <label class="form-label"> País: </label>
      <select 
        formControlName="pais"
        class="form-control">
        <option value=""> -- Seleccione Pais --</option>
        <option *ngFor="let pais of paises"
        [value]="pais.alpha3Code "> {{pais.name}} </option>
      </select>
    </div>
  </div>

    <!--Fronteras-->
    <div class="row mb-3" *ngIf="fronteras.length !=0">
      <div class="col">
        <label class="form-label"> Frontera con: </label>
        <select 
          formControlName="frontera"
          class="form-control">
          <option value=""> -- Seleccione Pais fronterizo --</option>
          <option *ngFor="let frontera of fronteras"
          [value]="frontera.name "> {{frontera.name}} </option>
        </select>
      </div>
    </div>

    <div class="row" *ngIf="cargando">
      <div class="col">
        <div class="alert alert-primary">
          Cargando...
        </div>
      </div>
    </div>

  <div class="row">
    <div class="col">
      <button type="submit"
        class="btn btn-primary float-end">
        Seleccionar
      </button>
    </div>
  </div>

</form>

<h3> Formulario </h3>

<pre>Valid: {{miFormulario.valid}} </pre>
<pre>Value: {{miFormulario.value |json}} </pre>